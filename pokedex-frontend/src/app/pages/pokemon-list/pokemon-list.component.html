<div class="container-fluid py-4">
  <!-- Header -->
  <div class="row mb-4">
    <div class="col-12">
      <h1 class="text-white text-center mb-4">
        <i class="fas fa-dragon me-3"></i>Pokédex
      </h1>
    </div>
  </div>

  <!-- Filtros -->
  <div class="row justify-content-center mb-4">
    <div class="col-md-8">
      <div class="card filter-card">
        <div class="card-body">
          <div class="row g-3 align-items-center">
            <div class="col-md-4">
              <label class="form-label">Geração</label>
              <select class="form-select" [(ngModel)]="selectedGeneration" 
                      (change)="loadGeneration(selectedGeneration)">
                <option *ngFor="let gen of generations" [value]="gen">
                  Geração {{gen}}
                </option>
              </select>
            </div>
            
            <div class="col-md-6">
              <label class="form-label">Buscar Pokémon</label>
              <div class="input-group">
                <input type="text" class="form-control" 
                       [(ngModel)]="searchQuery" 
                       placeholder="Digite nome ou ID..."
                       (keyup.enter)="searchPokemon()">
                <button class="btn btn-primary" (click)="searchPokemon()">
                  <i class="fas fa-search"></i>
                </button>
                <button class="btn btn-outline-secondary" (click)="clearSearch()">
                  <i class="fas fa-times"></i>
                </button>
              </div>
            </div>
            
            <div class="col-md-2">
              <label class="form-label">&nbsp;</label>
              <div class="d-grid">
                <button class="btn btn-success" (click)="loadGeneration(selectedGeneration)">
                  <i class="fas fa-sync-alt"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Loading -->
  <div *ngIf="isLoading" class="text-center py-5">
    <div class="spinner-border text-light" style="width: 3rem; height: 3rem;"></div>
    <p class="text-white mt-3">Carregando Pokémon...</p>
  </div>

  <!-- Erro -->
  <div *ngIf="errorMessage && !isLoading" class="alert alert-danger text-center">
    {{ errorMessage }}
  </div>

  <!-- Grid de Pokémon -->
  <div *ngIf="!isLoading && !errorMessage" class="row g-4">
    <div class="col-12" *ngIf="filteredPokemons.length === 0">
      <div class="alert alert-info text-center">
        Nenhum Pokémon encontrado.
      </div>
    </div>
    
    <div class="col-sm-6 col-md-4 col-lg-3 col-xl-2" 
         *ngFor="let pokemon of filteredPokemons">
      <app-pokemon-card 
        [pokemon]="pokemon"
        (favoriteToggled)="onFavoriteToggled($event)"
        (battleTeamToggled)="onBattleTeamToggled($event)">
      </app-pokemon-card>
    </div>
  </div>

  <!-- Contador -->
  <div *ngIf="!isLoading && filteredPokemons.length > 0" class="row mt-4">
    <div class="col-12 text-center">
      <span class="badge bg-primary fs-6">
        {{ filteredPokemons.length }} Pokémon(s) encontrado(s)
      </span>
    </div>
  </div>
</div>